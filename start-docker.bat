@echo off
echo üöÄ CarsPark Docker Launcher
echo ==========================

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ Docker
docker --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Desktop –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.
    pause
    exit /b 1
)

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ Docker Compose
docker-compose --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Docker Compose –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Compose –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.
    pause
    exit /b 1
)

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ .env —Ñ–∞–π–ª–∞
if not exist .env (
    echo ‚ö†Ô∏è –§–∞–π–ª .env –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–æ–∑–¥–∞—é –±–∞–∑–æ–≤—ã–π .env —Ñ–∞–π–ª...
    (
        echo # Django settings
        echo SECRET_KEY=django-insecure-change-this-in-production
        echo DEBUG=False
        echo.
        echo # AWS S3 settings ^(–∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏^)
        echo AWS_ACCESS_KEY_ID=your-aws-access-key
        echo AWS_SECRET_ACCESS_KEY=your-aws-secret-key
        echo AWS_REGION=eu-west-1
        echo AWS_S3_BUCKET_NAME=your-s3-bucket-name
        echo.
        echo # Database ^(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ^)
        echo # DATABASE_URL=postgresql://user:password@host:port/dbname
    ) > .env
    echo ‚úÖ –°–æ–∑–¥–∞–Ω .env —Ñ–∞–π–ª. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ —Å–≤–æ–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.
)

echo üîß –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤...
docker-compose up --build -d

echo ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤...
timeout /t 10 /nobreak >nul

echo üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞...
docker-compose ps

echo.
echo üéâ CarsPark –∑–∞–ø—É—â–µ–Ω!
echo.
echo üì± –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é:
echo    Frontend: http://localhost
echo    Backend API: http://localhost/api/
echo    Admin Panel: http://localhost/api/admin/
echo.
echo üë§ –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
echo    Email: admin@carspark.com
echo    Password: admin123
echo.
echo üìã –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
echo    –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤: docker-compose logs -f
echo    –û—Å—Ç–∞–Ω–æ–≤–∫–∞: docker-compose down
echo    –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫: docker-compose restart
echo.
pause

